# 373. Find K Pairs with Smallest Sums

[ğŸ§‘ğŸ»â€ğŸ’»ë¬¸ì œ ë°”ë¡œê°€ê¸°](https://leetcode.com/problems/find-k-pairs-with-smallest-sums)



## ë¬¸ì œ ìš”ì•½

ì£¼ì–´ì§„ ë‘ ë¦¬ìŠ¤íŠ¸ì—ì„œ ìˆ«ìë¥¼ í•˜ë‚˜ì”© êº¼ë‚´ í˜ì–´ë¥¼ ë§Œë“¤ê³  í•´ë‹¹ í˜ì–´ì˜ í•©ì´ ì‘ì€ ìˆœìœ¼ë¡œ Kê°œë¥¼ ë°˜í™˜í•˜ë¼.



## ë¬¸ì œ í’€ê¸°

ì²˜ìŒ ìƒê°í–ˆë˜ ë°©ë²•ì€ ì˜ëª»ëœ ë°©ë²•ì´ê¸´ í•˜ì§€ë§Œ í•´ë‹¹ ë¬¸ì œì˜ ì—£ì§€í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì°¾ê²Œ ë„ì™€ì£¼ì—ˆë‹¤.

ê° ë¦¬ìŠ¤íŠ¸ì—ì„œ íˆ¬ í¬ì¸í„°ë¡œ ë¹„êµí•˜ë©° ì‘ì€ ìˆ«ìë¥¼ ì°¾ëŠ”ë‹¤. ê·¸ë ‡ê²Œ ì¸ë±ìŠ¤ë¥¼ ëŠ˜ë ¤ë‚˜ê°€ê³  ê° ì¸ë±ìŠ¤ë¥¼ ê³±í•˜ì—¬ kë³´ë‹¤ í° ìˆ«ìê°€ ë˜ë©´ í˜„ì¬ê¹Œì§€ ì˜¨ ì¸ë±ìŠ¤ë§Œí¼ë§Œ ë¦¬ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹µì„ ì°¾ëŠ”ë‹¤.

ì´ ë°©ë²•ì˜ ë¬¸ì œëŠ” í†µê³¼í•˜ì§€ ì•ŠëŠ” ì½”ë“œë¼ëŠ” ì ì´ë‹¤. ê° ë¦¬ìŠ¤íŠ¸ì˜ ì‘ì€ ê°’ì„ ì°¾ì•„ë‚˜ê°€ë„ ì›í•˜ëŠ” í˜ì–´ì˜ í•©ì´ ì‘ì€ ìˆœ ì •ë ¬ì„ ë§Œì¡±í•˜ì§€ ëª»í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ì„œ `nums1=[1, 2, 3] | nums2 = [3, 4, 8]` ë¼ëŠ” ë¦¬ìŠ¤íŠ¸ê°€ ì¡´ì¬í•˜ê³  `k = 3`ì´ë¼ë©´ í•´ë‹¹ ë¡œì§ì˜ ë¦¬ìŠ¤íŠ¸ ì¡°ì • ì‹œ, `nums1 = [1, 2, 3]` ì´ ë˜ê³ ` nums2 = [3]` ìœ¼ë¡œ ëœë‹¤. ê·¸ëŸ¬ë©´ ë‹µì€ `[[1,3], [2,3] [3,3]]` ì´ì—¬ì•¼í•˜ì§€ë§Œ ì‹¤ì œ ë‹µì€ `[[1,3], [2,3], [1,4]]` ì´ë‹¤. ì¦‰, ë¡œì§ì´ í‹€ë¦° ê²ƒì´ë‹¤.



**ì½”ë“œ**

```ts
class Solution:
    def kSmallestPairs(self, nums1: List[int], nums2: List[int], k: int) -> List[List[int]]:
        i, j = 0, 0
        while k > (i+1) * (j+1):
            if i+1 >= len(nums1):
                j += 1
            elif j+1 >= len(nums2):
                i += 1
            elif nums1[i+1] < nums2[j+1]:
                i += 1
            else:
                j += 1
        nums1 = nums1[:i]
        nums2 = nums2[:j]

        ans = []
        for i in nums1:
            for j in nums2:
                ans.append([i,j])        
        ans.sort(key=lambda x: sum(x))

        return ans[:k]

```

**ì‹œê°„ë³µì¡ë„** - O(n)

>  ì—¬ê¸°ì„œ në°–ì— ì•ˆë˜ëŠ” ì´ìœ ëŠ” `len(nums) <= 10**5` ì¸ë° ë°˜í•´ `len(k) <= 10**4` ì´ê¸° ë•Œë¬¸ì´ë©° i * j ì˜ ìµœëŒ€ ìˆœíšŒê°€ kë²ˆìœ¼ë¡œ ë‚˜ì˜¨ë‹¤.

**ê³µê°„ë³µì¡ë„** - O(n)



---

ê·¸ëŸ°ë° ì´ ì½”ë“œë¥¼ ì¡°ê¸ˆë§Œ ë³€í˜•ì‹œí‚¤ë©´ í†µê³¼í•˜ëŠ” ì½”ë“œê°€ ëœë‹¤. ê° ë¦¬ìŠ¤íŠ¸ë¥¼ ì¡°ì •í•˜ëŠ” ì¸ë±ìŠ¤ì— +100 ì”©ë§Œ í•´ì£¼ë©´ í†µê³¼í•˜ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤.

ê·¼ë° ì´ê²Œ ë¬¸ì œ ì¡°ê±´ì— ë”°ë¼ì„œ í†µê³¼í•˜ë©´ ì¢‹ì€ë°, ì¡°ê±´ì—ë„ ë¶€í•©í•˜ì§€ ì•ŠëŠ”ë° í†µê³¼í•œë‹¤ëŠ”ê²Œ ë¬¸ì œì´ë‹¤. 

í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¡œ ë°‘ê³¼ ê°™ì€ í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ë¥¼ ë„£ìœ¼ë©´ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.

```python
# 1ë²ˆ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤
nums1 = [i for i in range(1, 10001)]
nums2 = [i for i in range(-10000, 0)]
k = 10000

# 2ë²ˆ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤
nums1 = [1] * 10000
nums2 = [-1] * 10000
k = 10000
```



ì¼ë‹¨ì€ ë¦¿ì½”ë“œì— ë¬¸ì˜í•´ë†“ì€ ìƒíƒœì´ê³  ë‚´ê°€ ì˜ëª» ìƒê°í•œê²Œ ì•„ë‹ˆë¼ë©´ ë¦¿ì½”ë“œì—ì„œ í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ ì¶”ê°€ë¥¼ ì§„í–‰í•˜ì§€ ì•Šì„ê¹Œ ì‹¶ë‹¤.

ë§í¬: https://github.com/LeetCode-Feedback/LeetCode-Feedback/issues/16295



**ì½”ë“œ**

```ts
class Solution:
    def kSmallestPairs(self, nums1: List[int], nums2: List[int], k: int) -> List[List[int]]:
        i, j = 0, 0
        while k > (i+1) * (j+1):
            if i+1 >= len(nums1):
                j += 1
            elif j+1 >= len(nums2):
                i += 1
            elif nums1[i+1] < nums2[j+1]:
                i += 1
            else:
                j += 1
        nums1 = nums1[:i+100]
        nums2 = nums2[:j+100]

        ans = []
        for i in nums1:
            for j in nums2:
                ans.append([i,j])        
        ans.sort(key=lambda x: sum(x))

        return ans[:k]

```

**ì‹œê°„ë³µì¡ë„** - O(n)

> ì´ê²ƒë„ +100ìœ¼ë¡œ ìµœëŒ€ 100ë§Œë²ˆì˜ ìˆœíšŒê°€ ì¶”ê°€ë˜ì§€ë§Œ 100nì´ë¼ O(n)ì´ë‹¤. (ì´ëŸ° ê±¸ ë³´ë©´ ë¹…ì˜¤í‘œê¸°ë²•ë„ í•œê³„ê°€ ì¡´ì¬í•˜ëŠ”ê±¸ ë‹¤ì‹œë” ëŠë‚€ë‹¤.)

**ê³µê°„ë³µì¡ë„** - O(n)



---

ê·¸ë ‡ê²Œ ì½”ë“œ ì œì¶œ ì„±ê³µì€ í–ˆì§€ë§Œ, ì•„ë¬´ë¦¬ ìƒê°í•´ë„ ì´ ì½”ë“œë¡œëŠ” ë§Œì¡±ìŠ¤ëŸ½ì§€ ì•Šì•„ heapìœ¼ë¡œ ë‹¤ì‹œ ì§œë³´ê¸°ë¡œ í–ˆë‹¤. ì–´ì§œí”¼ ë‹µì€ 10000 ë‹¨ìœ„ ë°°ì—´ì•ˆì— ìˆìœ¼ë‹ˆ ê³„ë‹¨ì‹ìœ¼ë¡œ nums1[0] ì— nums2 10000ê°œ ìš”ì†Œ, nums1[1] ì— nums2 9999ê°œ ìš”ì†Œ, ..., nums1[9999] ì— nums2 1ê°œ ìš”ì†Œë¥¼ ì €ì¥í•˜ì—¬ ì†ŒíŒ…í•˜ë©´ ë‹µì´ ë‚˜ì˜¬ê±°ë¼ ìƒê°í–ˆë‹¤. 

í•˜ì§€ë§Œ ì˜¤ì‚°ì´ì—ˆë˜ê²Œ ê³µê°„ë³µì¡ë„ì˜€ë‹¤. ì‹œê°„ë³µì¡ë„ì•¼ O(n^2) ì´ë¼í•´ë„ 1ì–µë²ˆ ì´í•˜ì˜ ì—°ì‚°ì´ë¼ ê´œì°®ì„ê±°ë¼ ìƒê°í–ˆëŠ”ë° ë©”ëª¨ë¦¬ë¥¼ ìƒê°í•˜ì§€ ëª» í–ˆë‹¤.



**ì½”ë“œ**

```ts
class Solution:
    def kSmallestPairs(self, nums1: List[int], nums2: List[int], k: int) -> List[List[int]]:
        tmp = []
        for i in range(10000):
            if i == len(nums1):
                break
            for j in range(10000-i):
                if j == len(nums2):
                    break
                tmp.append([nums1[i] + nums2[j], nums1[i], nums2[j]])

        tmp.sort(key=lambda x: x[0])
        return [[tmp[i][1], tmp[i][2]] for i in range(min(k, len(tmp)))]
```

**ì‹œê°„ë³µì¡ë„** - O(n^2)

**ê³µê°„ë³µì¡ë„** - O(n^2)



---

ê²°êµ­ Heap ìë£Œêµ¬ì¡°ë¥¼ ì´ìš©í–ˆë‹¤. Heapì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ë°˜í™˜í•˜ëŠ” ì‘ì—…ì€ lognì´ ê±¸ë¦¬ê¸°ì— ì—¬ëŸ¬ë²ˆí•´ë„ ìƒê´€ì—†ì—ˆê³ , ê° ì¸ë±ìŠ¤ì—ì„œ ê° ë¦¬ìŠ¤íŠ¸ì˜ ì¸ë±ìŠ¤ì— +1 ì”© ë”í•œ ê°’ë“¤ì„ Heapì— ë„£ì–´ ìµœëŒ€ë¡œ ê°€ì§€ê³  ìˆëŠ” ìš”ì†Œ ìˆ˜ë„ 1ë§Œì´í•˜ë¡œ ì¸¡ì •ë˜ê²Œ ë§Œë“¤ì—ˆë‹¤. ê·¸ë ‡ê²Œ ì½”ë“œê°€ ì„±ê³µí•˜ê²Œ ë˜ì—ˆë‹¤.



**ì½”ë“œ**

```ts
from heapq import heappush, heappop

class Solution:
    def kSmallestPairs(self, nums1: List[int], nums2: List[int], k: int) -> List[List[int]]:
        tmp = [(nums1[0] + nums2[0], 0, 0)]
        ans = []
        visit = dict()
        for _ in range(min(k, len(nums1) * len(nums2))):
            s, i, j = heappop(tmp)
            if j+1 < len(nums2) and not visit.get((i, j+1)):
                heappush(tmp, (nums1[i] + nums2[j+1], i, j+1))
                visit[(i, j+1)] = True
            if i+1 < len(nums1) and not visit.get((i+1, j)):
                heappush(tmp, (nums1[i+1] + nums2[j], i+1, j))
                visit[(i+1, j)] = True
            ans.append([nums1[i], nums2[j]])

        return ans
```

**ì‹œê°„ë³µì¡ë„** - O(nlogn)

**ê³µê°„ë³µì¡ë„** - O(n)



### í’€ì´ ë°©ë²• ìš”ì•½

Heapì„ ì´ìš©í•˜ì—¬ ì²« ìš”ì†Œë“¤ì˜ í•©ê³¼ ìš”ì†Œ ì¸ë±ìŠ¤ë¥¼ ë„£ê³  popì„ í†µí•´ ìš”ì†Œë¥¼ ë°˜í™˜í•˜ê³  ë°˜í™˜ëœ í•´ë‹¹ ì¸ë±ìŠ¤ë“¤ì— ê° +1ì„ ë”í•´(i, j+1 / i+1, j ì‹ìœ¼ë¡œ 2ë²ˆ) Heap ì— í‘¸ì‹œí•œë‹¤. ì´ ì‘ì—…ì„ kë²ˆ í˜¹ì€ `len(nums1) * len(nums2)` ì¤‘ ì‘ì€ ê°’ë§Œí¼ ë°˜ë³µí•˜ì—¬ ë‹µì„ êµ¬í•œë‹¤.
